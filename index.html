
<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>é€šè†¨ vs. æŠ•è³‡åˆ©æ¯ è¨ˆç®—å™¨ Â· å¯Œå£«ç‰ˆ</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#f8fafc;--card:#ffffff;--text:#0f172a;--muted:#64748b;--accent:#0ea5e9;--ok:#10b981;--bad:#ef4444;--ring:#e2e8f0}
    *{box-sizing:border-box} body{margin:0;background:linear-gradient(#f8fafc,#fff);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,'Apple Color Emoji','Segoe UI Emoji';color:var(--text)}
    .container{max-width:1080px;margin:24px auto;padding:0 16px}
    .title{font-weight:800;letter-spacing:-.02em}
    .sub{color:var(--muted)}
    .grid{display:grid;gap:16px}
    @media(min-width:900px){.grid-4{grid-template-columns:repeat(4,1fr)}.grid-3{grid-template-columns:repeat(3,1fr)}.grid-2{grid-template-columns:repeat(2,1fr)}}
    .card{background:var(--card);border:1px solid var(--ring);border-radius:16px;box-shadow:0 1px 2px rgba(15,23,42,.03)}
    .card .content{padding:16px}
    label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
    input,select{width:100%;padding:10px 12px;border:1px solid var(--ring);border-radius:10px;font-size:14px;background:#fff}
    .stat{font-weight:800;font-size:24px}
    table{width:100%;border-collapse:collapse;font-size:12px}
    th,td{text-align:left;padding:8px 10px;border-bottom:1px dashed #e5e7eb}
    tr.hit{background:rgba(16,185,129,.08)}
    .row{display:flex;align-items:center;gap:8px}
    .muted{color:var(--muted);font-size:12px}
    .right{text-align:right}
    .btn{padding:10px 12px;border-radius:10px;border:1px solid var(--ring);background:#fff;cursor:pointer}
    .btn-primary{background:var(--text);color:#fff;border-color:var(--text)}
    .pill{display:inline-block;padding:3px 8px;border-radius:999px;background:#eef2ff;color:#3730a3;font-size:12px}
    .footer{color:var(--muted);font-size:12px;line-height:1.6;margin:10px 0 30px}
  </style>
</head>
<body>
  <header style="
  position:fixed; top:0; left:0; right:0;
  background:white; border-bottom:1px solid #eee;
  text-align:center; padding:12px 0;
  z-index:1000;
">


<div style="background:#f1f5f9; display:inline-flex; align-items:center; justify-content:center;
            width:140px; height:140px; border-radius:50%; box-shadow:0 2px 6px rgba(0,0,0,0.08); margin:12px auto 8px;">
  <img src="logo.png" alt="Investor Fuji" style="width:110px; height:110px; object-fit:contain; border-radius:50%;">
</div>

<!-- åŠ é€™è¡Œè®“ä¸‹é¢å…§å®¹ä¸è¢«è“‹ä½ -->
<div style="height:80px;"></div>

  <div class="container">
    <div class="row" style="justify-content:space-between;margin-bottom:8px">
      <div>
        <div class="title" style="font-size:28px">é€šè†¨ vs. æŠ•è³‡åˆ©æ¯ è¨ˆç®—å™¨</div>
        <div class="sub">è¼¸å…¥ç”Ÿæ´»è²»èˆ‡é€šè†¨ã€æŠ•å…¥æœ¬é‡‘èˆ‡å¹´åŒ–ï¼Œæ‰¾å‡ºã€Œåˆ©æ¯ â‰¥ ç•¶å¹´ç”Ÿæ´»è²»ã€çš„å¹´ä»½ã€‚</div>
      </div>
      <div class="muted">Investor Fuji Â· å·¥å…·åŸå‹</div>
    </div>

    <div class="grid grid-4">
      <div class="card"><div class="content">
        <label>ç›®å‰å¹´é½¡</label>
        <input id="age" type="number" value="30">
      </div></div>
      <div class="card"><div class="content">
        <label>è©¦ç®—å¹´æ•¸</label>
        <input id="horizon" type="number" value="25">
      </div></div>
      <div class="card"><div class="content">
        <label>è¼¸å…¥è³‡é‡‘æ¨¡å¼</label>
        <select id="mode">
          <option value="BTC">ä»¥ BTC æ•¸é‡ + åƒ¹æ ¼</option>
          <option value="TWD">ä»¥å°å¹£é‡‘é¡</option>
        </select>
      </div></div>
      <div class="card"><div class="content">
        <label>å¹´åŒ–å ±é…¬ç‡ï¼ˆ%ï¼‰</label>
        <input id="returnPct" type="number" step="0.1" value="15">
      </div></div>
    </div>

    <div class="grid grid-3" style="margin-top:16px">
      <div class="card"><div class="content">
        <label>ç›®å‰å¹´ç”Ÿæ´»è²»ï¼ˆTWDï¼‰</label>
        <input id="expenseNow" value="100000">
      </div></div>
      <div class="card"><div class="content">
        <label>å¹´é€šè†¨ç‡ï¼ˆ%ï¼‰</label>
        <input id="inflationPct" type="number" step="0.1" value="3">
      </div></div>
      <div class="card"><div class="content" id="principalBlock">
        <label>åˆå§‹æœ¬é‡‘</label>
        <div class="row">
          <div class="pill" id="modeTag">BTC</div>
          <div class="stat right" style="flex:1">TWD <span id="principal">-</span></div>
        </div>
        <div class="muted" id="hint"></div>
      </div></div>
    </div>

    <div id="btcRow" class="grid grid-3" style="margin-top:16px">
      <div class="card"><div class="content">
        <label>æŒæœ‰ BTC æ•¸é‡ï¼ˆé¡†ï¼‰</label>
        <input id="btcAmount" value="0.10">
      </div></div>
      <div class="card"><div class="content">
        <label>BTC å–®åƒ¹ï¼ˆTWD/é¡†ï¼‰</label>
        <input id="btcPriceTWD" value="3000000">
      </div></div>
      <div class="card"><div class="content">
        <label>ï¼ˆè‡ªå‹•è¨ˆç®—ï¼‰</label>
        <div class="muted">ä¾ã€Œé¡†æ•¸ Ã— å–®åƒ¹ã€æ›ç®—åˆå§‹æœ¬é‡‘</div>
      </div></div>
    </div>

    <div id="twdRow" class="grid grid-3" style="margin-top:16px;display:none">
      <div class="card"><div class="content">
        <label>åˆå§‹æŠ•å…¥é‡‘é¡ï¼ˆTWDï¼‰</label>
        <input id="initialTWD" value="600000">
      </div></div>
    </div>

    <div class="grid grid-3" style="margin-top:16px">
      <div class="card"><div class="content">
        <div class="muted">çªç ´å¹´ä»½ï¼ˆå¹´åˆ©æ¯ â‰¥ ç•¶å¹´ç”Ÿæ´»è²»ï¼‰</div>
        <div class="stat" id="breakYear">â€”</div>
        <div class="muted" id="breakDetail"></div>
      </div></div>
      <div class="card"><div class="content">
        <div class="muted">ç¬¬ 1 å¹´åƒè€ƒ</div>
        <div id="firstYear"></div>
      </div></div>
      <div class="card"><div class="content">
        <button class="btn btn-primary" id="exportBtn">åŒ¯å‡º CSV æ˜ç´°</button>
      </div></div>
    </div>

    <div class="card" style="margin-top:16px">
      <div class="content">
        <div style="height:380px"><canvas id="chart"></canvas></div>
      </div>
    </div>

    <div class="card" style="margin-top:16px">
      <div class="content" style="overflow:auto">
        <table id="table">
          <thead>
            <tr>
              <th>å¹´</th><th>å¹´é½¡</th><th>å¹´åˆ©æ¯ï¼ˆTWDï¼‰</th><th>ç•¶å¹´ç”Ÿæ´»è²»ï¼ˆTWDï¼‰</th><th>æœŸæœ«è³‡ç”¢ï¼ˆTWDï¼‰</th><th>å·®é¡ï¼ˆåˆ©æ¯-ç”Ÿæ´»è²»ï¼‰</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <div class="footer">
      <b>èªªæ˜</b>ï¼šåˆ©æ¯ï¼æœŸåˆè³‡ç”¢Ã—å¹´åŒ–å ±é…¬ç‡ï¼›ç”Ÿæ´»è²»ï¼ç¾åœ¨ç”Ÿæ´»è²»Ã—(1+é€šè†¨)^(å¹´æ•¸-1)ï¼›çªç ´å¹´ä»½ç‚ºç¬¬ä¸€æ¬¡æ»¿è¶³ã€Œå¹´åˆ©æ¯ â‰¥ ç•¶å¹´ç”Ÿæ´»è²»ã€ã€‚æœ¬å·¥å…·ç‚ºæ•™è‚²è©¦ç®—ï¼Œæœªå«ç¨…å‹™ã€è²»ç”¨ã€é¢¨éšªèˆ‡åƒ¹æ ¼æ³¢å‹•ã€‚
    </div>
  </div>

  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script>
    const $ = (id) => document.getElementById(id);
    const num = (v, fb=0) => {
      if (typeof v === 'number') return v;
      const n = Number(String(v||'').replace(/[,\s]/g,''));
      return Number.isFinite(n) ? n : fb;
    };
    const fmt = (n) => Number(n||0).toLocaleString('zh-TW', {maximumFractionDigits:0});

    const inputs = ['age','horizon','expenseNow','inflationPct','returnPct','btcAmount','btcPriceTWD','initialTWD','mode'];
    inputs.forEach(id => $(id).addEventListener('input', refresh));
    $('mode').addEventListener('change', () => {
      const m = $('mode').value;
      $('btcRow').style.display = m==='BTC' ? '' : 'none';
      $('twdRow').style.display = m==='TWD' ? '' : 'none';
      $('modeTag').textContent = m;
      refresh();
    });

    let chart;
    function refresh() {
      const age = num($('age').value, 30);
      const horizon = Math.max(1, num($('horizon').value, 25));
      const expenseNow = num($('expenseNow').value, 100000);
      const i = num($('inflationPct').value, 3) / 100;
      const r = num($('returnPct').value, 15) / 100;
      const mode = $('mode').value;

      const principalTWD = mode==='BTC'
        ? num($('btcAmount').value, 0.1) * num($('btcPriceTWD').value, 3000000)
        : num($('initialTWD').value, 600000);

      $('principal').textContent = fmt(principalTWD);
      $('hint').textContent = mode==='BTC' ? 'é¡†æ•¸ Ã— å–®åƒ¹ è‡ªå‹•æ›ç®—' : 'å¯ç›´æ¥è¼¸å…¥å°å¹£é‡‘é¡';

      let valuePrev = principalTWD;
      const rows = [];
      for (let year=1; year<=horizon; year++) {
        const interest = valuePrev * r;
        const valueEnd = valuePrev + interest;
        const expense = expenseNow * Math.pow(1+i, year-1);
        rows.push({year, age: age+year, interest, expense, valueEnd, diff: interest - expense});
        valuePrev = valueEnd;
      }

      // Break-even
      const be = rows.find(d => d.interest >= d.expense);
      $('breakYear').textContent = be ? `ç¬¬ ${be.year} å¹´ï¼ˆ${be.age} æ­²ï¼‰` : 'å°šæœªåœ¨æœŸé–“å…§é”æˆ';
      $('breakDetail').textContent = be ? `ç•¶å¹´åˆ©æ¯ TWD ${fmt(be.interest)} Â· ç”Ÿæ´»è²» TWD ${fmt(be.expense)}` : '';

      // First year
      if (rows[0]) {
        const d0 = rows[0];
        $('firstYear').innerHTML = `
          <div>åˆ©æ¯ï¼š<b>TWD ${fmt(d0.interest)}</b></div>
          <div>ç”Ÿæ´»è²»ï¼š<b>TWD ${fmt(d0.expense)}</b></div>
          <div style="color:${d0.diff>=0?'#059669':'#dc2626'}">å·®é¡ï¼š${d0.diff>=0?'+':''}${fmt(d0.diff)}</div>
        `;
      }

      // Table
      const tb = $('table').querySelector('tbody');
      tb.innerHTML = '';
      rows.forEach(row => {
        const tr = document.createElement('tr');
        if (row.interest >= row.expense) tr.classList.add('hit');
        tr.innerHTML = `
          <td>${row.year}</td>
          <td>${row.age}</td>
          <td>${fmt(row.interest)}</td>
          <td>${fmt(row.expense)}</td>
          <td>${fmt(row.valueEnd)}</td>
          <td style="color:${row.diff>=0?'#065f46':'#b91c1c'}">${row.diff>=0?'+':''}${fmt(row.diff)}</td>
        `;
        tb.appendChild(tr);
      });

      // Chart
      const labels = rows.map(r => 'Y'+r.year);
      const interestData = rows.map(r => Math.round(r.interest));
      const expenseData  = rows.map(r => Math.round(r.expense));

      if (!chart) {
        const ctx = $('chart').getContext('2d');
        chart = new Chart(ctx, {
          type: 'line',
          data: {
            labels,
            datasets: [
              { label: 'å¹´åˆ©æ¯', data: interestData, tension:.25 },
              { label: 'ç•¶å¹´ç”Ÿæ´»è²»', data: expenseData, tension:.25 },
            ]
          },
          options: {
            responsive: true,
            interaction: { mode: 'index', intersect: false },
            scales: {
              y: { ticks: { callback: (v)=> (v/10000).toFixed(0)+'è¬' } }
            }
          }
        });
      } else {
        chart.data.labels = labels;
        chart.data.datasets[0].data = interestData;
        chart.data.datasets[1].data = expenseData;
        chart.update();
      }

      // CSV export
      $('exportBtn').onclick = () => {
        const header = ['year','age','interest','expense','valueEnd','diff'];
        const lines = [header.join(',')].concat(rows.map(r => [r.year,r.age,Math.round(r.interest),Math.round(r.expense),Math.round(r.valueEnd),Math.round(r.diff)].join(',')));
        const blob = new Blob([lines.join('\n')], {type:'text/csv;charset=utf-8;'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url; a.download = 'å¯Œå£«è¨ˆç®—å™¨.csv'; a.click();
        URL.revokeObjectURL(url);
      };
    }

    refresh();
  </script>
  <!-- ğŸ’° æ‰“è³å€å¡Šï¼šInvestor Fuji æ”¯æŒæŒ‰éˆ• -->
<section style="
  text-align:center;
  margin-top:60px;
  padding:40px 0;
  background:linear-gradient(135deg,#0f172a,#1e293b);
  border-radius:16px;
  color:white;
  box-shadow:0 4px 20px rgba(0,0,0,0.2);
  ">
  <h2 style="margin-bottom:10px;font-size:1.6rem;">è¦ºå¾—é€™å€‹å·¥å…·æœ‰å¹«åŠ©å—ï¼Ÿ</h2>
  <p style="margin-bottom:25px;font-size:1.1rem;opacity:0.9;">
    ä½ çš„æ‰“è³èƒ½å¹«æˆ‘æŒçºŒå‰µä½œæ›´å¤šæŠ•è³‡èˆ‡ç†è²¡å·¥å…· ğŸ’ª
  </p>

  <a href="https://buy.stripe.com/test_cNieVd2Lm5eYg4fgI5gA800"
     target="_blank" rel="noopener"
     style="
       display:inline-flex;
       align-items:center;
       gap:8px;
       background:white;
       color:#0f172a;
       font-weight:600;
       padding:12px 24px;
       border-radius:50px;
       text-decoration:none;
       font-size:1.05rem;
       box-shadow:0 4px 12px rgba(255,255,255,0.3);
       transition:all 0.3s ease;
     "
     onmouseover="this.style.background='#0f172a';this.style.color='white';this.style.boxShadow='0 4px 12px rgba(0,0,0,0.3)';"
     onmouseout="this.style.background='white';this.style.color='#0f172a';this.style.boxShadow='0 4px 12px rgba(255,255,255,0.3)';"
  >
    ğŸ ä½¿ç”¨ Apple Pay / ä¿¡ç”¨å¡ æ‰“è³ Investor Fuji
  </a>

  <p style="margin-top:20px;font-size:0.9rem;opacity:0.7;">
    æ”¯æ´ Apple Payã€Google Pay èˆ‡ ä¿¡ç”¨å¡
  </p>
</section>

</body>
</html>
